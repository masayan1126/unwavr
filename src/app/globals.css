@import "tailwindcss";
@plugin "@tailwindcss/typography";

:root {
  /* Softer light theme */
  --background: #13120A; /* custom background */
  --foreground: #EDECEC; /* custom foreground */
  --card: #13120A; /* align surfaces with background */
  --muted-foreground: #6b7280; /* gray-500 */
  --border: rgba(0,0,0,.08);
  /* Semantic color tokens */
  --primary: #3b82f6; /* blue-500 */
  --success: #10b981; /* emerald-500 as brand success base */
  --warning: #f59e0b; /* amber-500 */
  --danger: #ef4444; /* red-500 */
  /* Tag/Badge tokens */
  --tag-daily: var(--primary);
  --tag-scheduled: var(--warning);
  --tag-backlog: #8b5cf6; /* violet-500 */
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-inter), var(--font-noto-sans-jp), system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "ヒラギノ角ゴ ProN", "Hiragino Kaku Gothic ProN", "メイリオ", Meiryo, "ＭＳ Ｐゴシック", "MS PGothic", sans-serif;
  --font-heading: var(--font-space-grotesk), var(--font-inter), var(--font-noto-sans-jp), system-ui, sans-serif;
  --font-mono: var(--font-jetbrains-mono), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Softer dark theme */
    --background: #13120A; /* custom background */
    --foreground: #EDECEC; /* custom foreground */
    --card: #13120A; /* align surfaces with background */
    --muted-foreground: #94a3b8; /* slate-400 */
    --border: rgba(255,255,255,.08);
    /* Dark theme semantic tokens (adjusted for contrast) */
    --primary: #60a5fa; /* blue-400 */
    --success: #34d399; /* emerald-400 */
    --warning: #fbbf24; /* amber-400 */
    --danger: #f87171; /* red-400 */
    /* Tag/Badge tokens */
    --tag-daily: var(--primary);
    --tag-scheduled: var(--warning);
    --tag-backlog: #a78bfa; /* violet-400 */
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans);
}

/* Headings use Space Grotesk forアクセント */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
}

/* Motion blur effect (subtle) applied during scroll interactions */
@media (prefers-reduced-motion: no-preference) {
  .motion-scope {
    transition: filter 120ms ease-out;
  }
  html.motion-blur-active .motion-scope {
    filter: blur(0.5px);
  }
}

/* Simple demo animations used in /unwavr page */
@keyframes highlight {
  0% { background: transparent; }
  10% { background: rgba(16,185,129,0.12); }
  40% { background: transparent; }
  100% { background: transparent; }
}
.anim-highlight { animation: highlight 3.2s ease-in-out infinite; }

@keyframes checkpop {
  0% { transform: scale(0.2); opacity: 0; }
  15% { transform: scale(1.1); opacity: 1; }
  25% { transform: scale(1); }
  100% { transform: scale(1); }
}
.anim-check { animation: checkpop 3.2s ease-in-out infinite 0.4s; }

@keyframes spin360 {
  0% { transform: rotate(0deg); }
  70% { transform: rotate(340deg); }
  100% { transform: rotate(360deg); }
}
.anim-spin { animation: spin360 4s linear infinite; transform-origin: 50% 50%; }

@keyframes dragx {
  0% { transform: translateX(0); }
  45% { transform: translateX(120px); }
  50% { transform: translateX(120px); }
  95% { transform: translateX(0); }
  100% { transform: translateX(0); }
}
.anim-drag { animation: dragx 4s ease-in-out infinite; }

/* Generic surfaces */
.card {
  background: var(--card);
  border: 1px solid var(--border);
}

/* Soften all default borders */
.border,
.rounded,
.rounded-md,
.rounded-lg {
  border-color: var(--border);
}

/* Muted text helper */
.text-muted {
  color: var(--muted-foreground);
}

/* Unified UI utilities */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 0.75rem; /* px-3 py-2 */
  border: 1px solid var(--border);
  border-radius: 0.5rem; /* rounded */
  font-size: 0.875rem; /* text-sm */
  background: transparent;
  transition: background-color 120ms ease, box-shadow 120ms ease;
}
.btn-primary {
  background: var(--foreground);
  color: var(--background);
  border-color: var(--foreground);
}
.btn-danger {
  color: var(--danger);
  border-color: var(--danger);
}
.btn-block { width: 100%; }
.btn-icon-gap { gap: 0.5rem; }

/* ボタンのホバー時もテーブル行と同等のホバー感を付与（背景色付きボタンは除外） */
@media (hover: hover) {
  .btn:hover {
    background: rgba(0,0,0,0.05);
  }
  html.dark .btn:hover { background: rgba(255,255,255,0.08); }

  /* 背景色（bg-*) が付与されていない素のボタンにのみ適用 */
  button:hover:not(.btn-primary):not([class*="bg-"]),
  a.button:hover:not(.btn-primary):not([class*="bg-"]) {
    background: rgba(0,0,0,0.05);
  }
  html.dark button:hover:not(.btn-primary):not([class*="bg-"]),
  html.dark a.button:hover:not(.btn-primary):not([class*="bg-"]) {
    background: rgba(255,255,255,0.08);
  }
}

.dialog-card {
  width: 92vw;
  max-width: 960px;
  border: 1px solid var(--border);
  border-radius: 0.75rem;
  background: var(--card);
}

/* すべてのクリック可能要素は指カーソルに */
a, button, [role="button"], input[type="button"], input[type="submit"], input[type="reset"], label, summary {
  cursor: pointer;
}

/* Onboarding guide highlight (blinking) */
.guide-highlight {
  position: relative;
  outline: 2px solid currentColor;
  animation: guide-blink 1s steps(2, start) infinite;
}

@keyframes guide-blink {
  0% { box-shadow: 0 0 0 0 rgba(234, 88, 12, 0.6); }
  50% { box-shadow: 0 0 0 6px rgba(234, 88, 12, 0.2); }
  100% { box-shadow: 0 0 0 0 rgba(234, 88, 12, 0.0); }
}
